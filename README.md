# Bird Audio Frequency Analysis Tool

This Python script analyzes segments of bird audio recordings provided in a CSV file. It extracts and computes frequency-based amplitude metrics (e.g., total, mean, max amplitude) within a specified frequency range for a given bird species.

## 📋 Features

* Reads a CSV containing bird audio annotations generated by [Birdnet]([https://birdnet.cornell.edu/]) 's csv output.
* Filters rows by scientific bird name.
* Loads corresponding audio files using `librosa`.
* Extracts and analyzes audio segments in a specified frequency range (via FFT).
* Outputs a CSV file with added amplitude metrics.
* Logs input arguments for reproducibility.

---

## 🔧 Requirements

* Python 3.8+
* Dependencies:

  * `librosa`
  * `numpy`
  * `scipy`
  * `pandas`

Install dependencies with:

```bash
pip install librosa numpy scipy pandas
```

---

## 📁 Input CSV Format

The input CSV must include the following columns:

| Column Name       | Description                             |
| ----------------- | --------------------------------------- |
| `Scientific name` | The scientific name of the bird species |
| `Start (s)`       | Segment start time in seconds           |
| `End (s)`         | Segment end time in seconds             |
| `Confidence`      | Confidence score of the detection       |
| `File`            | Path to the corresponding audio file    |

---

## ▶️ Usage

```bash
python BirdDistanceAnalysis.py "20250520_043000.BirdNET.results.csv" "Strix aluco" "700-1200"
```

### Arguments:

* `csv_file`: Path to the input CSV file (required)
* `scientific_name`: Bird species to filter (e.g., `Turdus migratorius`)
* `hz_interval`: Frequency range (e.g., `2500-4000` or `3000`)
* `--output`: (Optional) Output CSV file path

---

## 📄 Output

* A CSV file containing the original filtered rows **plus** five amplitude columns:

  * `Total Amplitude`
  * `Median Amplitude`
  * `Mean Amplitude`
  * `Max Amplitude`
  * `Min Amplitude`

* A log file (e.g., `birds+analysis_freqAmplitude.log`) capturing the script parameters.

---

## 📌 Notes

* The script caches audio files to avoid reloading them multiple times.
* Frequency analysis uses FFT via `scipy`.

---

## 🧪 Sample Output Columns

| Start (s) | End (s) | Scientific name | Common name | Confidence | File | Total Amplitude | Median Amplitude | Mean Amplitude | Max Amplitude | Min Amplitude|
|-|-|-|-|-|-|-|-|-|-|-|
|660.0|663.0|Strix aluco|Bosuil|0.6636|C:\Users\sande\Desktop\BirdDistanceAnalysis\OneDrive_10_15-6-2025\20250520_043000.WAV|1047.032|0.6182955|0.69755626|5.102837|0.02249485|

---

## 🛠 Development

Feel free to adapt this script for:

* Batch processing different species
* Visualizing frequency spectra
* Detecting specific call types

---

## 📬 Questions?

Open an issue or reach out if you'd like help using or modifying the script.
